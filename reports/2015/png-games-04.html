<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>SUDO DEZIGNS | PACIFIC GAMES DRAWS | ALL</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="" />
<meta name="author" content="http://bootstraptaste.com" />
<!-- css -->
<link href="/css/bootstrap.min.css" rel="stylesheet" />
<link href="/css/fancybox/jquery.fancybox.css" rel="stylesheet">
<link href="/css/jcarousel.css" rel="stylesheet" />
<link href="/css/flexslider.css" rel="stylesheet" />
<link href="/css/style.css" rel="stylesheet" />


<!-- Theme skin -->
<link href="/skins/default.css" rel="stylesheet" />

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>
    <body data-page-type="reporter" data-year="2015" data-month="may">
<div id="wrapper">
  <!-- start header -->
  <div id="insert-menu"></div>
  <!-- end header -->
  <section id="inner-headline">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <ul class="breadcrumb">
            <li><a href="#"><i class="fa fa-home"></i></a><i class="icon-angle-right"></i></li>
            <li><a href="#">Projects</a><i class="icon-angle-right"></i></li>
            <li class="active">Pacific Games Draws</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
  <section id="content">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h3 class="text-capitalize headline">SOUTH PACIFIC GAMES 2015<br />GAME DRAWS SIMPLE WEB APP - ver 0.0.4</h3>
          <p class="text-info description">Problems to be address in this release:
            <ol>
              <li class="text-warning">Minor theming/styling</li>
              <li class="text-warning">Ready for release</li>
            </ol>
          </p>
        </div>
        <div class="row">
          <div id="datatable" class="col-sm-6 col-xs-12">
            <ul></ul>
          </div>
          <div id="eventviewer"></div>
        </div>
      </div>
    </div>
  </section>    
  <a href="#" class="scrollup"><i class="fa fa-angle-up active"></i></a>
<!-- javascript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="/js/jquery.js"></script>
<script src="/js/jquery.easing.1.3.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.fancybox.pack.js"></script>
<script src="/js/jquery.fancybox-media.js"></script>
<script src="/js/google-code-prettify/prettify.js"></script>
<script src="/js/portfolio/jquery.quicksand.js"></script>
<script src="/js/portfolio/setting.js"></script>
<script src="/js/jquery.flexslider.js"></script>
<script src="/js/animate.js"></script>
<script src="/js/custom.js"></script>
<script src="/script.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<script>
  var ext_data;
  d3.json("/data/spgames/matchups-02.json", function (error, data) {
    console.log(data);
    ext_data=data;

    // datelist list the dates.
    var dateList = d3.select("#datatable>ul").selectAll("li.date")
        .data(data)
        .enter()
          .append("li")
          .attr("id", function (d) { var july = d.date.indexOf("J"), getJul = d.date.substr(july,3), julDate = d.date.substr(d.date.indexOf("ly")+3,2);return getJul+"-"+julDate;})
          .attr("class","date h4 text-uppercase thead")
          .attr("style","list-style: none; font-family: Century Gothic, Tahoma")
          .text(function (d) { return d.date; })
          // .append("ul").attr("class","tbody sublist")
          // .call(initDiv);
          .on("click", function() { d3.select(this).call(initDiv); })
          // .on("mouseover", function() { d3.select(this).call(initDiv); })
          // .on("mouseout", function () { d3.select(this).remove();})
          ;

    function initDiv(selection) {
      selection.each(function (dataset, count) {
        var thisSelection = d3.select(this).append("ul").attr("class","tbody sublist");

        for (var j=0; j<ext_data[count].events.length; j++) {
          var newSelection = thisSelection.append("ul").attr("class","tbody sublist");
          newSelection.append("li").attr("class",function () { return "id-"+count+"-"+j+" tbody text-capitalize"; }).attr("style","list-style: none; font-family: Tahoma; font-size: .7125em;")
          .text( function (d, i) {return data[count].events[j].gametime +" hrs "+ data[count].events[j].sport;});// close text function
         
          newSelection.append("li").attr("class",function () { return "id-"+count+"-"+j+" tbody text-capitalize"; }).attr("style","list-style: none; font-family: Tahoma; font-size: .7125em;")
          .text( function (d, i) { return data[count].events[j].gender; });// close text function
          
          newSelection.append("li").attr("class",function () { return "id-"+count+"-"+j+" tbody text-capitalize"; }).attr("style","list-style: none; font-family: Tahoma; font-size: .7125em;")
          .text( function (d, i) { return data[count].events[j].category; });// close text function
          
          newSelection.append("li").attr("class",function () { return "id-"+count+"-"+j+" tbody text-capitalize"; }).attr("style","list-style: none; font-family: Tahoma; font-size: .7125em;")
          .text( function (d, i) { return data[count].events[j].venue; });// close text function
        
          
          // thisSelection.append("li").attr("id",function () { return count+"-"+j; }).attr("class"," tbody text-capitalize").attr("style","list-style: none; color: bisque; font-family: Tahoma; font-size: 1.125em;")
          // .text("---");// close text function
        } // close for loop

      }); // close selection function
    }; // close off function initDiv

  });
</script>
   </body>
</html>